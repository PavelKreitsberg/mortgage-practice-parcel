{"mappings":"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","sources":["src/index.js"],"sourcesContent":["let banks = [\n  {\n    id: '435tr34wrt',\n    name: 'Mono',\n    interestRate: 5,\n    maxLoan: 500000,\n    minPayment: 1000,\n    loanTerm: 12,\n  },\n  {\n    id: 'asdfw342rew5',\n    name: 'Privat',\n    interestRate: 7,\n    maxLoan: 1000000,\n    minPayment: 5000,\n    loanTerm: 50,\n  },\n];\n\nconst root = document.querySelector('#root');\nconst modal = document.querySelector('#modal');\n\nconst banksList = document.createElement('div');\nbanksList.classList.add('fields__item');\nbanksList.classList.add('bank__list');\n\nconst bankBtn = document.createElement('button');\nbankBtn.classList.add('button');\nbankBtn.textContent = 'Create new bank';\nbankBtn.setAttribute('id', 'showModal');\n\nconst bankListUl = document.createElement('ul');\nbankListUl.classList.add('banks');\n\nconst bankHeader = document.createElement('h2');\nbankHeader.classList.add('subtitle');\nbankHeader.textContent = 'Banks list';\n\nbanksList.append(bankHeader, bankListUl, bankBtn);\n\nconst loanInfoHeader = document.createElement('h2');\nloanInfoHeader.classList.add('subtitle');\nloanInfoHeader.textContent = 'Loan Information';\n\nconst loanInformation = document.createElement('ul');\nloanInformation.classList.add('features');\n\nconst banksInformation = document.createElement('div');\nbanksInformation.classList.add('fields__item');\nbanksInformation.classList.add('feature__list');\n\nbanksInformation.append(loanInfoHeader, loanInformation);\n\nroot.append(banksList, banksInformation);\n\nfunction createBankList(banks) {\n  bankListUl.innerHTML = '';\n  if (banks.length === 0) {\n    bankListUl\n      .insertAdjacentHTML(\n        'afterbegin',\n        `<p>Bank list is empty.</p> <p>Please, click button to add.</p>`\n      )\n      .join('');\n    return;\n  }\n  bankListUl.insertAdjacentHTML(\n    'afterbegin',\n    banks\n      .map((bank, index) => {\n        return `<li class=\"bank__item\">\n        <p>${index + 1}. <span>${bank.name}</span></p>\n        <button type=\"button\" class=\"button--edit\"></button>\n        <button type=\"button\" class=\"button--delete\"></button>\n      </li>`;\n      })\n      .join('')\n  );\n}\n\ncreateBankList(banks);\n\nbankBtn.addEventListener('click', openModal);\n\nfunction openModal() {\n  const modalMarkup = `<div class=\"modal\">\n        <div class=\"modal-content\">\n          <h2>Fill in bank's info</h2>\n          <form class=\"form\">\n            <label>\n              Bank name\n              <input type=\"text\" name=\"name\" required>\n            </label>\n            <label>\n              Interest rate, %\n              <input type=\"text\" name=\"interestRate\" required>\n            </label>\n            <label>\n              Max loan, $\n              <input type=\"text\" name=\"maxLoan\" required>\n            </label>\n            <label>\n              Min payment, $\n              <input type=\"text\" name=\"minPayment\" required>\n            </label>\n            <label>\n              Loan term\n              <input type=\"text\" name=\"loanTerm\" required>\n            </label>\n            <div class=\"modal-buttons\">\n              <button type=\"submit\" class=\"button\" data-action=\"add\">Add bank</button>\n              <button  class=\"button\" id=\"reset-button\">Reset</button>\n              <button class=\"button\" id=\"cancel-button\">Cancel</button>      \n            </div>\n            \n          </form>\n        </div>\n      </div> `;\n  modal.innerHTML = modalMarkup;\n\n  const bankForm = document.querySelector('.form');\n\n  const resetModalBtn = document.querySelector('#reset-button');\n\n  const cancelModalBtn = document.querySelector('#cancel-button');\n\n  bankForm.addEventListener('submit', addBank);\n\n  resetModalBtn.addEventListener('click', event => {\n    event.preventDefault();\n    bankForm.reset();\n  });\n\n  cancelModalBtn.addEventListener('click', event => {\n    event.preventDefault();\n    modal.innerHTML = '';\n  });\n}\n\nfunction addBank(evt) {\n  evt.preventDefault();\n  const bank = {\n    id: Date.now(),\n    name: evt.target.name.value,\n    interestRate: evt.target.interestRate.value,\n    maxLoan: evt.target.maxLoan.value,\n    minPayment: evt.target.minPayment.value,\n    loanTerm: evt.target.loanTerm.value,\n  };\n  banks.push(bank);\n  modal.innerHTML = '';\n\n  createBankList(banks);\n}\n\nfunction renderInfMarkup({\n  name,\n  interestRate,\n  maxLoan,\n  minPayment,\n  loanTerm,\n}) {\n  const loanInfoMarkup = `\n          <li class=\"features__item\">\n            <p class=\"features__name\">Bank:</p>\n            <span class=\"features__value\">${name}</span>\n          </li>\n          <li class=\"features__item\">\n            <p class=\"features__name\">Mortgage size, $:</p>\n            <span class=\"features__value\">${maxLoan}</span>\n          </li>\n          <li class=\"features__item\">\n            <p class=\"features__name\">Minimum down payment, $:</p>\n            <span class=\"features__value\">${minPayment}</span>\n          </li>\n          <li class=\"features__item\">\n            <p class=\"features__name\">Loan period, month:</p>\n            <span class=\"features__value\">${loanTerm}</span>\n          </li>\n          <li class=\"features__item\">\n            <p class=\"features__name\">Interest rate, %:</p>\n            <span class=\"features__value\">${interestRate}</span>\n          </li>`;\n\n  loanInformation.innerHTML = loanInfoMarkup;\n}\n\n// Делегирование\n\nconst bankList = document.querySelector('.banks');\n\nbankList.addEventListener('click', event => {\n  if (event.target.nodeName === 'UL') {\n    return;\n  }\n\n  const currentActiveBank = document.querySelector('.bank__item--active');\n\n  if (currentActiveBank) {\n    currentActiveBank.classList.remove('bank__item--active');\n  }\n\n  const activeBankName =\n    event.target.closest('li').firstElementChild.firstElementChild.textContent;\n  const currentBank = banks.find(bank => bank.name === activeBankName);\n\n  console.log(activeBankName);\n\n  if (event.target.nodeName === 'BUTTON') {\n    event.target.className === 'button--delete'\n      ? removeBankFromList(activeBankName)\n      : editBankInfo(currentBank);\n\n    return;\n  }\n\n  event.target.closest('li').classList.toggle('bank__item--active');\n\n  renderInfMarkup(currentBank);\n});\n\n// To do\n\nfunction removeBankFromList(bank) {\n  console.log(`Bank ${bank} deleted from the list`);\n}\n\nfunction editBankInfo({ name, interestRate, maxLoan, minPayment, loanTerm }) {\n  const modalEditMarkup = `<div class=\"modal\">\n        <div class=\"modal-content\">\n          <h2>Update bank's info</h2>\n          <form class=\"form\">\n            <label>\n              Bank name\n              <input type=\"text\" name=\"name\">\n            </label>\n            <label>\n              Interest rate, %\n              <input type=\"text\" name=\"interestRate\">\n            </label>\n            <label>\n              Max loan, $\n              <input type=\"text\" name=\"maxLoan\">\n            </label>\n            <label>\n              Min payment, $\n              <input type=\"text\" name=\"minPayment\">\n            </label>\n            <label>\n              Loan term\n              <input type=\"text\" name=\"loanTerm\">\n            </label>\n            <div class=\"modal-buttons\">\n              <button type=\"submit\" class=\"button\" data-action=\"add\">Update bank</button>\n              <button class=\"button\" id=\"cancel-button\">Cancel</button>      \n            </div>\n            \n          </form>\n        </div>\n      </div> `;\n  modal.innerHTML = modalEditMarkup;\n\n  document.querySelector('[name=\"name\"]').value = name;\n  document.querySelector('[name=\"interestRate\"]').value = interestRate;\n  document.querySelector('[name=\"maxLoan\"]').value = maxLoan;\n  document.querySelector('[name=\"minPayment\"]').value = minPayment;\n  document.querySelector('[name=\"loanTerm\"]').value = loanTerm;\n\n  const bankForm = document.querySelector('.form');\n\n  const cancelModalBtn = document.querySelector('#cancel-button');\n\n  bankForm.addEventListener('submit', updateBank);\n\n  cancelModalBtn.addEventListener('click', event => {\n    event.preventDefault();\n    modal.innerHTML = '';\n  });\n}\n\nfunction removeBankFromList(bankName) {\n  banks = banks.filter(bank => bank.name !== bankName);\n  createBankList(banks);\n}\n\nfunction updateBank(event) {\n  event.preventDefault();\n\n  const bankOldName = event.currentTarget.elements.name.value;\n  const delleteBank = banks.findIndex(el => el.name === bankOldName);\n\n  banks.splice(delleteBank, 1);\n  createBankList(banks);\n  addBank(event);\n}\n"],"names":["$b8f9b7833fa37166$var$banks","id","name","interestRate","maxLoan","minPayment","loanTerm","$b8f9b7833fa37166$var$root","document","querySelector","$b8f9b7833fa37166$var$modal","$b8f9b7833fa37166$var$banksList","createElement","classList","add","$b8f9b7833fa37166$var$bankBtn","textContent","setAttribute","$b8f9b7833fa37166$var$bankListUl","$b8f9b7833fa37166$var$bankHeader","append","$b8f9b7833fa37166$var$loanInfoHeader","$b8f9b7833fa37166$var$loanInformation","$b8f9b7833fa37166$var$banksInformation","$b8f9b7833fa37166$var$createBankList","banks1","innerHTML","length","insertAdjacentHTML","map","bank","index","concat","join","$b8f9b7833fa37166$var$addBank","evt","preventDefault","Date","now","target","value","push","$b8f9b7833fa37166$var$updateBank","event","bankOldName","currentTarget","elements","delleteBank","findIndex","el","splice","addEventListener","bankForm","resetModalBtn","cancelModalBtn","reset","nodeName","currentActiveBank","remove","bankName","param","loanInfoMarkup","activeBankName","closest","firstElementChild","currentBank","find","console","log","toggle","className","filter","modalEditMarkup","$b8f9b7833fa37166$var$editBankInfo"],"version":3,"file":"index.4d769e1b.js.map"}